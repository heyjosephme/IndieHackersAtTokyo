---
const themes = ["light", "dark", "synthwave", "cupcake"];
---

<div class="dropdown dropdown-end">
    <div tabindex="0" role="button" class="btn m-1">
        Theme
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-palette" viewBox="0 0 16 16">
            <path d="M8 5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3m4 3a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3M5.5 7a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0m.5 6a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3"/>
        </svg>
    </div>
    <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52">
        {themes.map((theme) => (
            <li><a data-theme-value={theme}>{theme}</a></li>
        ))}
    </ul>
</div>

<script>
    // Theme handling
    function getTheme() {
        return localStorage.getItem('theme') || 'light'
    }

    function setTheme(theme: string) {
        document.documentElement.setAttribute('data-theme', theme)
        localStorage.setItem('theme', theme)
    }

    // Set initial theme
    setTheme(getTheme())

    // Theme switcher logic
    document.querySelectorAll('[data-theme-value]').forEach(button => {
        button.addEventListener('click', () => {
            const theme = button.getAttribute('data-theme-value')
            if (theme) setTheme(theme)
        })
    })
</script> 